<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title> FITSINGH— Modern Gym</title>
<style>
  :root{
    --bg:#0c0f14; --panel:#121720; --panel-2:#151b26; --ink:#eef2ff; --muted:#9aa3b2;
    --brand:#ef4444; /* red */
    --brand-2:#f97316; /* orange */
    --ok:#22c55e; --warn:#f59e0b; --line:#263245; --chip:#3b475c;
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{margin:0;font-family:Inter,system-ui,Segoe UI,Arial,sans-serif;background:
    radial-gradient(900px 500px at 80% -20%, rgba(239,68,68,.12), transparent),
    radial-gradient(900px 500px at 10% -10%, rgba(249,115,22,.12), transparent),
    var(--bg);color:var(--ink)}
  a{color:inherit}
  /* Header */
  header{position:sticky;top:0;z-index:10;background:rgba(12,15,20,.75);backdrop-filter:blur(10px);border-bottom:1px solid var(--line)}
  .wrap{max-width:1200px;margin:0 auto;padding:10px 14px;display:flex;gap:12px;align-items:center}
  .brand{font-weight:800;letter-spacing:.5px}
  .brand strong{color:var(--brand)}
  .chip{font-size:12px;background:var(--chip);color:#c9d3e6;border:1px solid var(--line);padding:4px 8px;border-radius:999px}
  .sp{flex:1}
  .btn{border:1px solid var(--line);background:linear-gradient(180deg,#192233,#121720);color:#e8eeff;padding:9px 12px;border-radius:12px;cursor:pointer;transition:.2s transform,.2s filter}
  .btn:hover{transform:translateY(-1px)}
  .btn.brand{background:linear-gradient(135deg,var(--brand),var(--brand-2));border-color:#ef6044}
  .btn.ghost{background:transparent}
  .btn.icon{padding:8px 10px}
  .tabs{display:flex;gap:8px;flex-wrap:wrap}
  /* Layout */
  main{max-width:1200px;margin:16px auto;padding:0 14px}
  .panel{background:linear-gradient(180deg,rgba(21,27,38,.9),rgba(18,23,32,.7));border:1px solid var(--line);border-radius:18px;padding:14px}
  .grid{display:grid;gap:12px}
  .grid.cards{grid-template-columns:repeat(auto-fill,minmax(220px,1fr))}
  .card{background:linear-gradient(180deg,rgba(14,18,26,.9),rgba(14,18,26,.6));border:1px solid var(--line);border-radius:14px;overflow:hidden}
  .card img{width:100%;height:140px;object-fit:cover;display:block;border-bottom:1px solid var(--line)}
  .card-b{padding:12px;display:grid;gap:8px}
  .price{font-weight:800;color:#fff}
  .strike{opacity:.7;text-decoration:line-through}
  .kpi{display:flex;gap:10px;flex-wrap:wrap}
  .kpi .pill{background:#0f131c;border:1px solid var(--line);padding:6px 10px;border-radius:999px;font-size:12px;color:#bfc7d9}
  .row{display:flex;gap:8px;align-items:center}
  .row > *{flex:1}
  input,select,textarea{font:inherit;width:100%;border:1px solid var(--line);background:#0c111a;color:#e8eeff;border-radius:10px;padding:10px}
  textarea{resize:vertical}
  .muted{color:var(--muted)}
  .section-h{display:flex;align-items:center;justify-content:space-between;margin:4px 0 10px}
  .section-h h2{font-size:18px;margin:0}
  /* Bottom nav for mobile */
  .bottom-nav{display:none;position:sticky;bottom:0;z-index:20;background:rgba(12,15,20,.9);backdrop-filter:blur(10px);border-top:1px solid var(--line)}
  .bottom-nav .wrap{padding:8px 12px;justify-content:space-between}
  .nav-btn{flex:1;text-align:center;border:none;background:transparent;color:#cbd5e1;padding:8px 6px;border-radius:10px}
  .nav-btn.active{color:#fff;background:#121826}
  /* Responsive */
  @media (max-width:900px){
    .tabs{display:none}
    .bottom-nav{display:block}
  }
  
  @media (max-width:480px){
    span.chip {
    display: none;
}
  }
  
  /* Notes list */
  .note{border:1px solid var(--line);border-radius:12px;padding:10px;background:#0a0f17}
  .note .meta{display:flex;justify-content:space-between;color:#9aa4b7;font-size:12px}
  .del-anim{animation:shrink .22s ease forwards}
  @keyframes shrink{to{opacity:0;transform:scale(.96)}}
  /* Checkout */
  .cart-row{display:grid;grid-template-columns:1fr auto auto;gap:8px;align-items:center}
  .total{display:flex;justify-content:flex-end;gap:16px;font-weight:700}
</style>
</head>
<body>
<header>
  <div class="wrap">
    <div class="brand">FIT<strong>SINGH</strong> <span class="chip">Gym • Classes • Shop</span></div>
    <div class="sp"></div>
    <div class="tabs">
      <button class="btn ghost" data-go="home">Home</button>
      <button class="btn ghost" data-go="packages">Packages</button>
      <button class="btn ghost" data-go="classes">Online Classes</button>
      <button class="btn ghost" data-go="notes">Notes</button>
      <button class="btn ghost" data-go="consult">Consultation</button>
      <button class="btn ghost" data-go="shop">Shop</button>
    </div>
    <button class="btn brand" id="enableNotif">Enable Reminders</button>
  </div>
</header>

<main>
  <!-- HOME -->
  <section class="panel" id="home">
    <div class="section-h"><h2>Welcome to FITSINGH</h2></div>
    <p class="muted">Crush goals with science-backed programs, live coaches, and gear that goes as hard as you do.</p>
    <div class="grid cards" style="margin-top:10px">
      <article class="card"><img src="https://images.unsplash.com/photo-1517836357463-d25dfeac3438?q=80&w=1200&auto=format&fit=crop" alt="Weights"><div class="card-b"><strong>Strength</strong><div class="kpi"><span class="pill">Hypertrophy</span><span class="pill">Power</span><span class="pill">3–5 days</span></div></div></article>
      <article class="card"><img src="https://images.unsplash.com/photo-1558611848-73f7eb4001a1?q=80&w=1200&auto=format&fit=crop" alt="Cardio"><div class="card-b"><strong>Conditioning</strong><div class="kpi"><span class="pill">HIIT</span><span class="pill">Endurance</span><span class="pill">2–4 days</span></div></div></article>
      <article class="card"><img src="img/yoga.jpg" alt="Yoga"><div class="card-b"><strong>Mobility</strong><div class="kpi"><span class="pill">Yoga</span><span class="pill">Pilates</span><span class="pill">Daily</span></div></div></article>
    </div>
  </section>

  <!-- PACKAGES -->
  <section class="panel" id="packages" style="display:none">
    <div class="section-h"><h2>Membership Packages</h2></div>
    <div class="grid cards">
      <article class="card"><img src="https://images.unsplash.com/photo-1554284126-aa88f22d8b74?q=80&w=1200&auto=format&fit=crop" alt="Basic">
        <div class="card-b"><strong>Starter</strong><div class="muted">Gym access • App workouts</div>
          <div class="row"><div class="price">₹999<span class="muted">/mo</span></div><button class="btn brand add-package" data-name="Starter" data-price="999">Choose</button></div>
        </div>
      </article>
      <article class="card"><img src="img/gym_1.jpg" alt="Pro">
        <div class="card-b"><strong>Pro</strong><div class="muted">+ Group classes • Plans</div>
          <div class="row"><div class="price">₹1,999<span class="muted">/mo</span></div><button class="btn brand add-package" data-name="Pro" data-price="1999">Choose</button></div>
        </div>
      </article>
      <article class="card"><img src="https://images.unsplash.com/photo-1517832606299-7ae9b720a186?q=80&w=1200&auto=format&fit=crop" alt="Elite">
        <div class="card-b"><strong>Elite</strong><div class="muted">1:1 coach • Nutrition</div>
          <div class="row"><div class="price">₹3,999<span class="muted">/mo</span></div><button class="btn brand add-package" data-name="Elite" data-price="3999">Choose</button></div>
        </div>
      </article>
    </div>
  </section>

  <!-- CLASSES -->
  <section class="panel" id="classes" style="display:none">
    <div class="section-h"><h2>Online Classes & Video</h2></div>
    <div class="grid" style="grid-template-columns:1fr;gap:12px">
      <div class="card-b" style="background:#0a0f17;border:1px solid var(--line);border-radius:14px">
        <div class="row">
          <input id="classTopic" placeholder="Class topic (e.g., Leg Day HIIT)">
          <input id="classTime" type="datetime-local">
        </div>
        <div class="row">
          <button class="btn brand" id="scheduleClass">Schedule + Reminder</button>
          <button class="btn" id="startVideo">Start Instant Video</button>
        </div>
        <p class="muted">Instant Video opens a secure room via Jitsi Meet in a new tab. Share the link with members.</p>
      </div>
      <div class="card-b" style="background:#0a0f17;border:1px solid var(--line);border-radius:14px">
        <div class="section-h"><h2 style="font-size:16px">Your Class Schedule</h2></div>
        <div id="classList" class="grid"></div>
      </div>
    </div>
  </section>

  <!-- NOTES -->
  <section class="panel" id="notes" style="display:none">
    <div class="section-h"><h2>Training Notes</h2></div>
    <div class="grid" style="grid-template-columns:1fr;gap:10px">
      <div class="row">
        <input id="noteTitle" placeholder="Title (optional)">
        <input id="noteRem" type="datetime-local"/>
      </div>
      <textarea id="noteBody" rows="4" placeholder="Log your workout, cues, PRs..."></textarea>
      <div class="row">
        <button class="btn brand" id="addNote">Add Note</button>
      </div>
      <div id="noteList" class="grid"></div>
    </div>
  </section>

  <!-- CONSULTATION -->
  <section class="panel" id="consult" style="display:none">
    <div class="section-h"><h2>Live Consultation</h2></div>
    <div class="grid" style="grid-template-columns:1fr;gap:12px">
      <div class="card-b" style="background:#0a0f17;border:1px solid var(--line);border-radius:14px">
        <div class="row">
          <select id="coachSel">
            <option value="Coach Neha">Coach Neha — Strength</option>
            <option value="Coach Arjun">Coach Arjun — Conditioning</option>
            <option value="Coach Isha">Coach Isha — Mobility</option>
          </select>
          <input id="consultTime" type="datetime-local">
        </div>
        <textarea id="consultMsg" rows="3" placeholder="Share goals or injuries..."></textarea>
        <div class="row">
          <button class="btn brand" id="bookConsult">Book & Reminder</button>
          <button class="btn" id="joinConsult">Join Instant Video</button>
        </div>
      </div>
      <div class="card-b" style="background:#0a0f17;border:1px solid var(--line);border-radius:14px">
        <div class="section-h"><h2 style="font-size:16px">Upcoming Consultations</h2></div>
        <div id="consultList" class="grid"></div>
      </div>
    </div>
  </section>

  <!-- SHOP -->
  <section class="panel" id="shop" style="display:none">
    <div class="section-h"><h2>Shop Gear & Supplements</h2></div>
    <div class="grid cards" id="prodGrid"></div>
    <div class="panel" style="margin-top:12px">
      <div class="section-h"><h2>Cart & Checkout</h2></div>
      <div id="cartList" class="grid" style="grid-template-columns:1fr;gap:10px"></div>
      <div class="total" style="margin-top:8px"><span>Subtotal:</span> <span id="cartTotal">₹0</span></div>
      <div class="row" style="margin-top:8px">
        <input id="buyerName" placeholder="Full name">
        <input id="buyerEmail" placeholder="Email">
      </div>
      <div class="row">
        <input id="buyerAddr" placeholder="Address">
      </div>
      <div class="row">
        <button class="btn" id="clearCart">Clear</button>
        <button class="btn brand" id="checkoutBtn">Checkout (Demo)</button>
      </div>
      <p class="muted" style="margin-top:4px">Demo checkout (no real payment). Integrate Stripe/Razorpay later.</p>
    </div>
  </section>
</main>

<!-- Mobile bottom nav -->
<nav class="bottom-nav">
  <div class="wrap">
    <button class="nav-btn active" data-go="home">Home</button>
    <button class="nav-btn" data-go="packages">Packages</button>
    <button class="nav-btn" data-go="classes">Classes</button>
    <button class="nav-btn" data-go="notes">Notes</button>
    <button class="nav-btn" data-go="shop">Shop</button>
  </div>
</nav>

<script>
// ===== State & Storage =====
const LS = {
  classes: 'fitsingh_classes_v1',
  notes: 'fitsingh_notes_v1',
  consult: 'fitsingh_consult_v1',
  cart: 'fitsingh_cart_v1'
};
const state = {
  classes: JSON.parse(localStorage.getItem(LS.classes) || '[]'),
  notes: JSON.parse(localStorage.getItem(LS.notes) || '[]'),
  consult: JSON.parse(localStorage.getItem(LS.consult) || '[]'),
  cart: JSON.parse(localStorage.getItem(LS.cart) || '[]'),
};
const save = (k)=> localStorage.setItem(LS[k], JSON.stringify(state[k]));
const uuid = ()=> Math.random().toString(36).slice(2)+Date.now().toString(36);
const fmt = (iso)=> iso ? new Date(iso).toLocaleString() : '';

// ===== Nav =====
function go(id){
  document.querySelectorAll('main > section').forEach(s=> s.style.display = (s.id===id?'block':'none'));
  document.querySelectorAll('.tabs .btn, .bottom-nav .nav-btn').forEach(b=> b.classList.toggle('active', b.dataset.go===id));
  scrollTo({top:0,behavior:'smooth'});
}
document.querySelectorAll('[data-go]').forEach(b=> b.addEventListener('click', ()=> go(b.dataset.go)));

// ===== Notifications (Reminders) =====
const notifBtn = document.getElementById('enableNotif');
notifBtn.addEventListener('click', async ()=>{
  if(!('Notification' in window)) return alert('Notifications not supported');
  const p = await Notification.requestPermission();
  alert(p==='granted'?'Reminders enabled!':'Permission denied');
});
function reminder(title, body){
  try{ if(Notification.permission==='granted') new Notification(title,{body}); }catch(e){ console.log(e) }
}
setInterval(()=>{
  const now = Date.now();
  state.classes.forEach(c=>{ if(c.rem && !c.notified && now>=new Date(c.rem).getTime()){ c.notified=true; save('classes'); reminder('Class Reminder', `${c.topic} now`);} });
  state.consult.forEach(c=>{ if(c.rem && !c.notified && now>=new Date(c.rem).getTime()){ c.notified=true; save('consult'); reminder('Consultation', `${c.coach} now`);} });
  state.notes.forEach(n=>{ if(n.rem && !n.notified && now>=new Date(n.rem).getTime()){ n.notified=true; save('notes'); reminder('Note Reminder', `${n.title||'Training note'}`);} });
}, 15000);

// ===== Packages -> add to cart =====
document.querySelectorAll('.add-package').forEach(btn=>{
  btn.addEventListener('click', ()=>{
    addToCart({id:uuid(), name:btn.dataset.name+" Membership", price:+btn.dataset.price, qty:1});
    go('shop');
  })
});

// ===== Online Classes =====
const classList = document.getElementById('classList');
function renderClasses(){
  classList.innerHTML='';
  state.classes.sort((a,b)=> new Date(a.rem)-new Date(b.rem));
  state.classes.forEach(c=>{
    const el = document.createElement('div');
    el.className='note';
    el.innerHTML = `<div class="meta"><strong>${c.topic}</strong><span>${fmt(c.rem)}</span></div>
    <div class="row" style="margin-top:6px">
      <button class="btn" onclick="window.open('${c.link}','_blank')">Join</button>
      <button class="btn" onclick="delClass('${c.id}')">Delete</button>
    </div>`;
    classList.appendChild(el);
  })
}
function delClass(id){ state.classes = state.classes.filter(x=>x.id!==id); save('classes'); renderClasses(); }

document.getElementById('scheduleClass').addEventListener('click', ()=>{
  const topic = document.getElementById('classTopic').value.trim();
  const rem = document.getElementById('classTime').value ? new Date(document.getElementById('classTime').value).toISOString() : null;
  if(!topic){ alert('Enter class topic'); return; }
  const room = 'fitsingh-' + uuid();
  const link = `https://meet.jit.si/${room}`; // secure video room
  state.classes.push({id:uuid(), topic, rem, link}); save('classes');
  document.getElementById('classTopic').value=''; document.getElementById('classTime').value='';
  renderClasses(); alert('Scheduled! Share the Join link when ready.');
});
document.getElementById('startVideo').addEventListener('click', ()=>{
  const room = 'fitsingh-' + uuid();
  window.open(`https://meet.jit.si/${room}`,'_blank');
});

// ===== Notes =====
const noteList = document.getElementById('noteList');
function renderNotes(){
  noteList.innerHTML='';
  state.notes.sort((a,b)=> new Date(b.upd)-new Date(a.upd));
  state.notes.forEach(n=>{
    const el=document.createElement('div'); el.className='note';
    el.innerHTML=`<div class="meta"><strong>${n.title||'(No title)'}</strong><span>${fmt(n.upd)}</span></div>
    <div style="margin:6px 0">${(n.body||'').replace(/</g,'&lt;')}</div>
    ${n.rem?`<span class="chip" style="display:inline-block;padding:4px 8px;border-radius:999px;background:#0f131c;border:1px solid var(--line);color:#cbd5e1">⏰ ${fmt(n.rem)}</span>`:''}
    <div class="row" style="margin-top:8px"><button class="btn" onclick="editNote('${n.id}')">Edit</button><button class="btn" onclick="delNote('${n.id}')">Delete</button></div>`;
    noteList.appendChild(el);
  })
}
function editNote(id){
  const n = state.notes.find(x=>x.id===id); if(!n) return;
  const t = prompt('Title', n.title||''); if(t===null) return;
  const b = prompt('Body', n.body||''); if(b===null) return;
  n.title=t; n.body=b; n.upd=new Date().toISOString(); save('notes'); renderNotes();
}
function delNote(id){
  const idx = state.notes.findIndex(x=>x.id===id); if(idx<0) return;
  state.notes.splice(idx,1); save('notes'); renderNotes();
}

document.getElementById('addNote').addEventListener('click', ()=>{
  const title = document.getElementById('noteTitle').value.trim();
  const body = document.getElementById('noteBody').value.trim();
  const rem = document.getElementById('noteRem').value ? new Date(document.getElementById('noteRem').value).toISOString() : null;
  if(!title && !body){ alert('Write something'); return; }
  state.notes.unshift({id:uuid(), title, body, rem, upd:new Date().toISOString()});
  save('notes'); document.getElementById('noteTitle').value=''; document.getElementById('noteBody').value=''; document.getElementById('noteRem').value='';
  renderNotes();
});

// ===== Consultation =====
const consultList = document.getElementById('consultList');
function renderConsult(){
  consultList.innerHTML='';
  state.consult.sort((a,b)=> new Date(a.rem)-new Date(b.rem));
  state.consult.forEach(c=>{
    const el=document.createElement('div'); el.className='note';
    el.innerHTML=`<div class="meta"><strong>${c.coach}</strong><span>${fmt(c.rem)}</span></div>
    <div class="muted" style="margin:6px 0">${(c.msg||'').replace(/</g,'&lt;')}</div>
    <div class="row"><button class="btn" onclick="window.open('${c.link}','_blank')">Join</button><button class="btn" onclick="delConsult('${c.id}')">Delete</button></div>`;
    consultList.appendChild(el);
  })
}
function delConsult(id){ state.consult = state.consult.filter(x=>x.id!==id); save('consult'); renderConsult(); }

document.getElementById('bookConsult').addEventListener('click', ()=>{
  const coach = document.getElementById('coachSel').value;
  const rem = document.getElementById('consultTime').value ? new Date(document.getElementById('consultTime').value).toISOString() : null;
  const msg = document.getElementById('consultMsg').value.trim();
  const room = 'fitsingh-CONSULT-' + uuid();
  const link = `https://meet.jit.si/${room}`;
  state.consult.push({id:uuid(), coach, rem, msg, link}); save('consult');
  document.getElementById('consultTime').value=''; document.getElementById('consultMsg').value='';
  renderConsult(); alert('Consultation booked! Join link created.');
});
document.getElementById('joinConsult').addEventListener('click', ()=>{
  const room = 'fitsingh-CONSULT-' + uuid(); window.open(`https://meet.jit.si/${room}`,'_blank');
});

// ===== Shop =====
const PRODUCTS = [
  {id:'p1', name:'fitsingh Shaker 700ml', price:499, img:'img/gym_2.jpg'},
  {id:'p2', name:'Wrist Wraps Pro', price:899, img:'img/gym_3.jpg'},
  {id:'p3', name:'Creatine Monohydrate 300g', price:1299, img:'img/gym_4.jpg'},
  {id:'p4', name:'Resistance Bands Set', price:1099, img:'img/gym_5.jpg'},
  {id:'p5', name:'Gym Gloves Elite', price:799, img:'img/gym_1.jpg'}
];
const prodGrid = document.getElementById('prodGrid');
function renderProducts(){
  prodGrid.innerHTML='';
  PRODUCTS.forEach(p=>{
    const card=document.createElement('article'); card.className='card';
    card.innerHTML=`<img alt="${p.name}" src="${p.img}"><div class="card-b">
      <strong>${p.name}</strong>
      <div class="row"><div class="price">₹${p.price}</div><button class="btn brand" onclick='addToCart(${JSON.stringify({id:p.id,name:p.name,price:p.price,qty:1})})'>Add</button></div>
    </div>`;
    prodGrid.appendChild(card);
  })
}
function addToCart(item){
  const ex = state.cart.find(x=>x.id===item.id);
  if(ex){ ex.qty += item.qty; }
  else { state.cart.push({...item}); }
  save('cart'); renderCart();
}
const cartList = document.getElementById('cartList');
function renderCart(){
  cartList.innerHTML='';
  let total=0;
  state.cart.forEach(ci=>{
    total += ci.price*ci.qty;
    const row=document.createElement('div'); row.className='cart-row note';
    row.innerHTML=`<div><strong>${ci.name}</strong><div class='muted'>₹${ci.price} × ${ci.qty}</div></div>
      <div class='row' style='gap:4px'>
        <button class='btn icon' onclick="chgQty('${ci.id}',-1)">-</button>
        <button class='btn icon' onclick="chgQty('${ci.id}',1)">+</button>
      </div>
      <button class='btn' onclick="rmItem('${ci.id}')">Remove</button>`;
    cartList.appendChild(row);
  })
  document.getElementById('cartTotal').textContent = '₹'+total;
}
function chgQty(id, d){
  const it = state.cart.find(x=>x.id===id); if(!it) return; it.qty=Math.max(1,it.qty+d); save('cart'); renderCart();
}
function rmItem(id){ state.cart = state.cart.filter(x=>x.id!==id); save('cart'); renderCart(); }

document.getElementById('clearCart').addEventListener('click', ()=>{ state.cart=[]; save('cart'); renderCart(); });

document.getElementById('checkoutBtn').addEventListener('click', ()=>{
  if(!state.cart.length) return alert('Cart is empty');
  const name = document.getElementById('buyerName').value.trim();
  const email = document.getElementById('buyerEmail').value.trim();
  const addr = document.getElementById('buyerAddr').value.trim();
  if(!name||!email||!addr) return alert('Fill name, email, address');
  const order = {
    id: 'ORD-' + uuid().slice(-6).toUpperCase(),
    items: state.cart.map(c=>({name:c.name, qty:c.qty, price:c.price})),
    total: state.cart.reduce((s,c)=> s+c.price*c.qty, 0),
    buyer:{name,email,addr}
  };
  alert('Payment simulated — Order '+order.id+' confirmed!');
  state.cart=[]; save('cart'); renderCart();
});

// ===== Init =====
renderClasses(); renderNotes(); renderConsult(); renderProducts(); renderCart();

// default route
go('home');
</script>
</body>
</html>
